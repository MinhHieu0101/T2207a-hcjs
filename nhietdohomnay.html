<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Thời Tiết</title>

</head>
<body>
<h1 id="city"> Tên Thành Phố</h1>
<h2><span id="nhietdo">Nhiệt độ :</span><sup>o</sup>C</h2>
<h3>Áp suất : <span id="apsuat"></span></h3>


<button type="button" onclick="hanoi()">Hà Nội</button>
<button type="button" onclick="tphcm()">TP HCM</button>
<button type="button" onclick="tokyo()">Tokyo</button>
<button type="button" onclick="bangkok()">BangKok</button>
<button type="button" onclick="london()">London</button>
<button type="button" onclick="beijng()">Beijing</button>
<button type="button" onclick="alaska()">Alaska</button>
<button type="button" onclick="newyork()">New York</button>
<button type="button" onclick="berlin()">Berlin</button>


<script type="text/javascript">

    //tao function co param truyen vao la api
    function getThongTin(api) {
        // code ở đây luôn
        var xhttp = new XMLHttpRequest();
        xhttp.onload = function () {
            // đây là chỗ lấy data về
            var data = JSON.parse(this.responseText);
            var ct = data.name;
            var h1city = document.getElementById("city");
            h1city.innerText = ct;

            var tmp=data.main.temp;
            var nhietdo=document.getElementById("nhietdo");
            nhietdo.innerText=tmp;

            var pres=data.main.pressure;
            var apsuat=document.getElementById("apsuat");
            apsuat.innerText=pres;

        };
        //gan param api cho url
        var url = api;
        xhttp.open("GET", url, true);
        xhttp.send();
    }
    function hanoi() {
        //khi click button hanoi goi den function getThongTin va truyen param la api
        getThongTin("https://api.openweathermap.org/data/2.5/weather?q=HaNoi&appid=09a71427c59d38d6a34f89b47d75975c&units=metric")
    }
    function tphcm(){
        getThongTin("https://api.openweathermap.org/data/2.5/weather?q=saigon&appid=09a71427c59d38d6a34f89b47d75975c&units=metric")
    }
    function tokyo(){
        getThongTin("https://api.openweathermap.org/data/2.5/weather?q=Tokyo&appid=09a71427c59d38d6a34f89b47d75975c&units=metric")
    }
    function bangkok(){
        getThongTin("https://api.openweathermap.org/data/2.5/weather?q=bangkok&appid=09a71427c59d38d6a34f89b47d75975c&units=metric")
    }
    function london(){
        getThongTin("https://api.openweathermap.org/data/2.5/weather?q=london&appid=09a71427c59d38d6a34f89b47d75975c&units=metric")
    }
    function beijng(){
        getThongTin("https://api.openweathermap.org/data/2.5/weather?q=berlin&appid=09a71427c59d38d6a34f89b47d75975c&units=metric")

    }
    function alaska(){
        getThongTin("https://api.openweathermap.org/data/2.5/weather?q=alaska&appid=09a71427c59d38d6a34f89b47d75975c&units=metric")

    }
    function newyork(){
        getThongTin("https://api.openweathermap.org/data/2.5/weather?q=New york&appid=09a71427c59d38d6a34f89b47d75975c&units=metric")

    }
    function berlin(){
        getThongTin("https://api.openweathermap.org/data/2.5/weather?q=berlin&appid=09a71427c59d38d6a34f89b47d75975c&units=metric")
    }
</script>
</body>
</html>